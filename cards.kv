#:kivy 2.2.0
<MenuButton@Button>:
  size: self.texture_size
  bold: "true"
  color: app.main_color
  background_color: 1, 1, 1, 0
  background_normal: ""

<CountLabel@Label>:
  bold: "true"
  pos: self.pos


<Menu>:
  BoxLayout:
    orientation: "vertical"
    canvas:
      Rectangle:
        size: root.size
        pos: root.pos
    Image:
      source: "images/cover.png"
      allow_stretch: True
      size_hint: .8, .7
      pos_hint: {'right': .9, 'top': .1}
    MenuButton:
      text: "НАЧАТЬ ТРЕНИРОВКУ"
      font_size: (root.width + root.height)/35
      on_press: root.screens_order()
      size_hint: 1, .3

<MainWidget>:
  id: main_widget
  canvas:
    Rectangle:
      size: root.size
      pos: root.pos
  BoxLayout:
    id: main_box
    front_label: front_label.__self__
    back_label: back_label.__self__
    open_button: open_button.__self__
    rating_box: rating_box.__self__
    orientation: 'vertical'
    BoxLayout:
      size_hint: 1,.1

      MenuButton:
        id: back_menu
        padding: ('10dp', '0dp', '0dp', '0dp')
        size_hint: .7, 1
        text_size: self.size
        font_size: (main_box.width + main_box.height)/35
        halign: 'left'
        valign: 'middle'
        text: "МЕНЮ"
        on_press: root.manager.current = "menu"
      BoxLayout:
        id: box_count
        size_hint: .3, 1
        CountLabel:
          id: new
          text: root.new
          font_size: (main_box.width + main_box.height)/35
          color: 0, 138/255, 1, 1
        CountLabel:
          id: inround
          font_size: (main_box.width + main_box.height)/35
          text: root.inround
          color: 1, 0, 0, .7
        CountLabel:
          id: studied
          font_size: (main_box.width + main_box.height)/35
          text: root.studied
          color: 0, 210/255, 72/255, 1
    Label:
      id: front_label
      size_hint: 1,.1
      text: root.front
      font_size: (main_box.width + main_box.height)/25
      color: 0, 142/255, 1, 1

    Label:
      size_hint: 1,.1
      id: back_label
      text: root.back
      markup: True 
      font_size: (main_box.width + main_box.height)/25
      color: app.main_color

    Image:
      id: picture
      size_hint: 1,.3
      source: root.picture_link
      allow_stretch: True

    MenuButton:
      id: open_button
      size_hint: 1,.1
      text: 'ОТКРЫТЬ'
      font_size: (main_box.width + main_box.height)/35
      on_press: root.open_card()

    BoxLayout:
      id: rating_box
      size_hint: 1,.1

      MenuButton:
        id: again
        size_hint: .25,1
        color: 1, 0, 0, .7
        text: 'снова'
        font_size: (main_box.width + main_box.height)/45
        on_press: root.rating("again")
      MenuButton:
        id: hard
        size_hint: .3,1
        color: 120/255, 120/255, 120/255, 1
        text: 'сложно'
        font_size: (main_box.width + main_box.height)/45
        on_press: root.rating("hard")
      MenuButton:
        id: good
        size_hint: .3,1
        color: 0, 210/255, 72/255, 1
        text: 'хорошо'
        font_size: (main_box.width + main_box.height)/45
        on_press: root.rating("good")
      MenuButton:
        id: easy
        size_hint: .25,1
        color: 0, 142/255, 1, 1
        text: 'легко'
        font_size: (main_box.width + main_box.height)/45
        on_press: root.rating("easy")
<Progress>:
  BoxLayout:
    orientation: "vertical"
    canvas:
      Color:
        rgba: 1, 1, 1, 1
      Rectangle:
        size: root.size

    BoxLayout:    # 9% --------------------------------------------
      size_hint: 1, .09
      MenuButton:
        id: back_menu
        padding: ('10dp', '0dp', '0dp', '0dp')
        size_hint: .7, 1
        text_size: self.size
        font_size: (root.width + root.height)/35
        halign: 'left'
        valign: 'middle'
        text: "МЕНЮ"
        on_press: root.manager.current = "menu"

    BoxLayout: # 10%
      orientation: 'vertical'
      id: message_box
      # size_hint: 1, .3
      Label:
        text: root.card
        font_size: 30
        color: app.main_color
        size_hint: 1, .1
      Label:
        text: "root.studied"
        color: app.main_color
        font_size: 30
        size_hint: 1, .1
      Label:
        text: "root.studied"
        font_size: 30
        color: app.main_color
        size_hint: 1, .1

  